<script src="https://apis.google.com/js/api.js"></script>
<script >

    /**
   * Sample JavaScript code for classroom.courses.courseWork.patch
   * See instructions for running APIs Explorer code samples locally:
   * https://developers.google.com/explorer-help/guides/code_samples#javascript
   */

function authenticate() {
  return gapi.auth2.getAuthInstance()
    .signIn({ scope: 'https://www.googleapis.com/auth/classroom.courses https://www.googleapis.com/auth/classroom.courses.readonly' })
    .then(() => { console.log('Sign-in successful'); },
      (err) => { console.error('Error signing in', err); });
}
function loadClient() {
  gapi.client.setApiKey('AIzaSyB8DNgVMuYtwyzMecnYyfcWQPwOqldgaxc');
  return gapi.client.load('https://classroom.googleapis.com/$discovery/rest?version=v1')
    .then(() => { console.log('GAPI client loaded for API'); },
      (err) => { console.error('Error loading GAPI client for API', err); });
}
// Make sure the client is loaded and sign-in is complete before calling this method.
function execute() {
  return gapi.client.classroom.courses.list({
    courseStates: [
      'ACTIVE',
    ],
  })
    .then((response) => {
      // Handle the results here (response.result has the parsed body).
      console.log('Response', response.body);
    },
    (err) => { console.error('Execute error', err); });
}

gapi.load('client:auth2', () => {
  gapi.auth2.init({ client_id: '1000207000640-752b50eqq63abg32gs91bh20ea03hipm.apps.googleusercontent.com' });
});

</script>

<button onclick="authenticate().then(loadClient)">authorize and load</button>
<button onclick="execute()">execute</button>
